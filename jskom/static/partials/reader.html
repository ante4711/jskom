<span ng-show="readerIsLoading">Loading...</span>
<div ng-show="reader">
  <h1 class="jskomNoWrap">
    {{ reader.unreadSize() }} unread in
    <a href="/conferences/{{r.recpt.conf_no}}">{{ conf|confName }}</a>
  </h1>
  
  <span ng-show="textIsLoading">Loading...</span>
  <div ng-controller="TextCtrl" ng-show="text">
    <ng-include src="'text.html'|jskomTemplate"></ng-include>
    <ng-include src="'textcontrols.html'|jskomTemplate"></ng-include>
  </div>
  <div id="jskomBelowText"></div>
</div>
  
<div id="jskomControlBar" class="navbar">
  <div class="navbar-inner">
    <button class="btn"
            ng-disabled="readerIsLoading || !reader"
            ng-click="refresh()">
      <i class="icon-refresh"></i>
    </button>
    
    <div class="pull-right">
      <button class="btn btn-primary"
              ng-click="readNext()" ng-disabled="!reader || textIsLoading">
        <span ng-show="reader.isEmpty()">To conference list</span>
        <span ng-hide="reader.isEmpty()">
          <span ng-show="reader.hasPending()">
            Show next pending ({{ reader.pendingSize() }})
          </span>
          <span ng-hide="reader.hasPending()">Show next unread</span>
        </span>
      </button>
    </div>
  </div>
</div>
